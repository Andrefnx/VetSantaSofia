{# Acciones Rápidas - Control de visibilidad por rol #}
{# Contexto esperado: None (funciones genéricas) #}

{% load static %}

{# CONTROL DE VISIBILIDAD POR ROL #}

{% if user.rol == 'administracion' or user.is_superuser %}

    <!-- ACCIONES RÁPIDAS ADMIN: Navegación operativa -->
    <div class="card vet-card card-round">
        <div class="card-header">
            <div class="card-title">
                <i class="fas fa-bolt me-2"></i>
                Acciones Rápidas
            </div>
        </div>
        <div class="card-body">
            <div class="d-grid gap-2">
                <a href="{% url 'agenda:agenda' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <i class="fas fa-calendar-alt me-2"></i>
                    Ver Agenda
                </a>
                <a href="{% url 'pacientes:pacientes' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <i class="fas fa-hospital me-2"></i>
                    Pacientes Hospitalizados
                </a>
                <a href="{% url 'caja:cashregister' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                    <i class="fas fa-cash-register me-2"></i>
                    Ir a Caja
                </a>
                <a href="{% url 'pacientes:pacientes' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #000;">
                    <i class="fas fa-search me-2"></i>
                    Pacientes
                </a>
            </div>
        </div>
    </div>

{% elif user.rol == 'veterinario' %}

    <!-- ACCIONES RÁPIDAS VETERINARIO: Acciones Clínicas -->
    <div class="card vet-card card-round">
        <div class="card-header">
            <div class="card-title">
                <i class="fas fa-stethoscope me-2"></i>
                Acciones Clínicas
            </div>
        </div>
        <div class="card-body">
            <div class="d-grid gap-2">
                <a href="{% url 'agenda:agenda' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <i class="fas fa-calendar-day me-2"></i>
                    Mi Agenda
                </a>
                <!-- Ver Hospitalizaciones -->
                <a href="{% url 'pacientes:pacientes' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <i class="fas fa-hospital-user me-2"></i>
                    Mis Hospitalizaciones
                </a>
                
                <!-- Crear Consulta/Registro -->
                <a href="{% url 'pacientes:pacientes' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <i class="fas fa-notes-medical me-2"></i>
                    Mis Pacientes
                </a>
                
                <!-- Ver Alertas -->
                <a href="{% url 'dashboard:dashboard' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #000;">
                    <i class="fas fa-bell me-2"></i>
                    Ver Alertas
                </a>
            </div>
        </div>
    </div>

{% elif user.rol == 'recepcion' %}

    <!-- ACCIONES RÁPIDAS RECEPCIÓN: Operativas -->
    <div class="card vet-card card-round rd-quick-actions">
        <div class="card-header">
            <div class="card-title">
                <i class="fas fa-bolt me-2"></i>
                Acciones Rápidas
            </div>
        </div>
        <div class="card-body">
            <div class="d-grid gap-2">
                <!-- Nueva Cita -->
                <a href="{% url 'agenda:crear_cita' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <i class="fas fa-calendar-plus me-2"></i>
                    Nueva Cita
                </a>
                
                <a href="{% url 'pacientes:pacientes' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <i class="fas fa-search me-2"></i>
                    Buscar Paciente
                </a>

                <a href="{% url 'pacientes:pacientes' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <i class="fas fa-hospital me-2"></i>
                    Pacientes Hospitalizados
                </a>
                
                <!-- Gestionar Caja -->
                {% if caja_stats.estado == 'cerrada' %}
                    <a href="#abrirCajaModal" data-bs-toggle="modal" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <i class="fas fa-money-bill-wave me-2"></i>
                        Abrir Caja
                    </a>
                {% else %}
                    <a href="{% url 'caja:cashregister' %}" class="vet-btn vet-btn-block" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                        <i class="fas fa-cash-register me-2"></i>
                        Ir a Caja
                    </a>
                {% endif %}
            </div>
        </div>
    </div>

{% endif %}
