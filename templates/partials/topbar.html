{% load static %}

<style>
    .main-header {
        z-index: 10!important;
    }
    .navbar-header-left .cash-status-btn {
        margin: 0;
    }

    .cash-status-btn {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 8px 16px;
        border-radius: 10px;
        border: 2px solid;
        font-weight: 600;
        transition: all 0.3s ease;
        cursor: pointer;
    }

    .cash-status-btn.open {
        background: linear-gradient(135deg, rgba(67, 233, 123, 0.1) 0%, rgba(56, 249, 215, 0.1) 100%);
        border-color: #43e97b;
        color: #16a34a;
    }

    .cash-status-btn.open:hover {
        background: linear-gradient(135deg, rgba(67, 233, 123, 0.2) 0%, rgba(56, 249, 215, 0.2) 100%);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(67, 233, 123, 0.2);
    }

    .cash-status-btn.closed {
        background: linear-gradient(135deg, rgba(250, 112, 154, 0.1) 0%, rgba(254, 225, 64, 0.1) 100%);
        border-color: #fa709a;
        color: #dc2626;
    }

    .cash-status-btn.closed:hover {
        background: linear-gradient(135deg, rgba(250, 112, 154, 0.2) 0%, rgba(254, 225, 64, 0.2) 100%);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(250, 112, 154, 0.2);
    }

    .cash-status-btn .status-icon {
        font-size: 1.3rem;
    }

    .cash-status-btn .status-info h6 {
        margin: 0;
        font-size: 0.75rem;
        opacity: 0.8;
    }

    .cash-status-btn .status-info .amount {
        margin: 0;
        font-size: 1.1rem;
        font-weight: 700;
    }

    /* Versión móvil más compacta */
    .cash-status-mobile {
        padding: 6px 12px;
        gap: 8px;
    }

    .cash-status-mobile .status-info h6 {
        font-size: 0.65rem;
    }

    .cash-status-mobile .status-info .amount {
        font-size: 0.9rem;
    }

    .cash-status-mobile .status-icon {
        font-size: 1.1rem;
    }

    /* Responsive */
    @media (max-width: 991px) {
        .navbar-header-left {
            display: none !important;
        }
        
        /* Forzar visibilidad del área de usuario en mobile */
        .navbar-nav.topbar-nav {
            display: flex !important;
            margin-left: auto !important;
        }
        
        .nav-item.topbar-user {
            display: block !important;
        }
        
        /* Asegurar que el nombre de usuario sea visible en mobile */
        .topbar-user .profile-pic {
            display: flex !important;
            align-items: center !important;
        }
        
        .topbar-user .profile-username {
            display: inline-block !important;
            margin-left: 8px !important;
        }
        
        .topbar-user .profile-username .fw-bold {
            font-size: 0.9rem !important;
            color: #374151 !important;
        }
        
        /* Ajustar contenedor del navbar */
        .navbar-header .container-fluid {
            padding-right: 15px !important;
        }
    }
    
    /* Asegurar visibilidad general del nombre de usuario */
    .topbar-user .profile-username {
        display: inline-block;
        margin-left: 8px;
    }
</style>
<div class="main-header">

    <!-- Navbar Header (simplified) -->
    <nav class="navbar navbar-header navbar-header-transparent navbar-expand-lg border-bottom">
        <div class="container-fluid">
            <ul class="navbar-nav topbar-nav ms-md-auto align-items-center">
                <li class="nav-item topbar-user dropdown hidden-caret">
                    <a class="dropdown-toggle profile-pic" data-bs-toggle="dropdown" href="#" aria-expanded="false">
                        <span class="profile-username">
                            <span class="fw-bold">{{ user.nombre }} {{ user.apellido }}</span>
                        </span>
                    </a>
                    <ul class="dropdown-menu dropdown-user animated fadeIn">
                        <div class="dropdown-user-scroll scrollbar-outer">
                            <li>
                                <div class="user-box">
                                    <div class="u-text">
                                        <h4>{{ user.nombre }} {{ user.apellido }}</h4>
                                        <p class="text-muted">{{ user.correo }}</p>
                                        <span class="badge badge-info">{{ user.get_rol_display_custom }}</span>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                                    Cerrar Sesión
                                </a>
                                <form id="logout-form" method="POST" action="{% url 'logout' %}" style="display: none;">
                                    {% csrf_token %}
                                </form>
                            </li>
                        </div>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>
    <!-- End Navbar -->
</div>

<!-- Removed extra topbar items and cash register modals/scripts per request -->