{% extends "partials/base.html" %}

{% load static %}

{% block title %}Est√°ndares UI - Sistema de Dise√±o{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/base/estilos_generales.css' %}">
<link rel="stylesheet" href="{% static 'css/base/tables_base.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid p-0">
    <!-- BARRA DE NAVEGACI√ìN DE SECCIONES (SIDEBAR) -->
    <div class="navbar-secciones">
        <div class="navbar-secciones-content">
            <a href="#selectores" class="nav-section-btn active" onclick="scrollToSection('selectores')"><i class="fas fa-sliders-h"></i> Selectores</a>
            <a href="#pestanas" class="nav-section-btn" onclick="scrollToSection('pestanas')"><i class="fas fa-folder-open"></i> Pesta√±as</a>
            <a href="#tabla" class="nav-section-btn" onclick="scrollToSection('tabla')"><i class="fas fa-table"></i> Tabla</a>
            <a href="#tarjetas" class="nav-section-btn" onclick="scrollToSection('tarjetas')"><i class="fas fa-th"></i> Tarjetas</a>
            <a href="#botones" class="nav-section-btn" onclick="scrollToSection('botones')"><i class="fas fa-square"></i> Botones</a>
            <a href="#formularios" class="nav-section-btn" onclick="scrollToSection('formularios')"><i class="fas fa-edit"></i> Formularios</a>
            <a href="#alertas" class="nav-section-btn" onclick="scrollToSection('alertas')"><i class="fas fa-exclamation-circle"></i> Alertas</a>
            <a href="#tooltips" class="nav-section-btn" onclick="scrollToSection('tooltips')"><i class="fas fa-comment-dots"></i> Tooltips</a>
            <a href="#modals" class="nav-section-btn" onclick="scrollToSection('modals')"><i class="fas fa-window-maximize"></i> Modals</a>
            <a href="#componentes-avanzados" class="nav-section-btn" onclick="scrollToSection('componentes-avanzados')"><i class="fas fa-layer-group"></i> Componentes</a>
            <a href="#guia" class="nav-section-btn" onclick="scrollToSection('guia')"><i class="fas fa-book"></i> Gu√≠a</a>
        </div>
    </div>

    <div id="main-content">
        <div class="row m-0">
            <div class="col-12 p-0">
                <!-- T√çTULO PRINCIPAL -->
                <div class="p-1-5">
                    <div class="preview-section">
                        <h2 class="preview-title">
                            <i class="fas fa-palette"></i> Est√°ndares UI - Sistema de Dise√±o
                        </h2>
                    </div>
                </div>            <div class="p-1-5">
            
            <!-- RUEDAS/TOGGLES DE SELECCI√ìN (Como en Pacientes) -->
            <div id="selectores" class="preview-section">
                <h2><i class="fas fa-sliders-h"></i> Selectores (Wheels/Toggles)</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Botones toggle para selecci√≥n en grid 2 columnas"><code>class="btn btn-primary/secondary"</code></span></p>
                
                <div class="component-group">
                    <h3>Selector de Edad - Grid 2 Columnas</h3>
                    <div class="grid-2col">
                        <button class="btn btn-primary btn-selector">
                            <i class="fas fa-paw"></i> 0-2 a√±os
                        </button>
                        <button class="btn btn-secondary btn-selector">
                            <i class="fas fa-paw"></i> 2-5 a√±os
                        </button>
                        <button class="btn btn-secondary btn-selector">
                            <i class="fas fa-paw"></i> 5-10 a√±os
                        </button>
                        <button class="btn btn-secondary btn-selector">
                            <i class="fas fa-paw"></i> +10 a√±os
                        </button>
                    </div>
                </div>
                
                <div class="component-group">
                    <h3>Selector de Modo Propietario</h3>
                    <div class="flex-gap-075">
                        <button class="btn btn-primary btn-flex-1">
                            <i class="fas fa-user-circle"></i> Propietario
                        </button>
                        <button class="btn btn-secondary btn-flex-1">
                            <i class="fas fa-clinic-medical"></i> Cl√≠nica
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- PESTA√ëAS/TABS -->
            <div id="pestanas" class="preview-section">
                <h2><i class="fas fa-folder-open"></i> Pesta√±as (Tabs)</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Contenido organizado en tabs intercambiables"><code>class="tabs-group" + class="tab-button" + id="tab-xxx"</code></span></p>
                
                <div class="tabs-group">
                    <button class="tab-button active" data-tab="tab-general">
                        <i class="fas fa-info-circle"></i> Informaci√≥n General
                    </button>
                    <button class="tab-button" data-tab="tab-historial">
                        <i class="fas fa-history"></i> Historial
                    </button>
                    <button class="tab-button" data-tab="tab-medicinas">
                        <i class="fas fa-prescription"></i> Medicinas
                    </button>
                    <button class="tab-button" data-tab="tab-documentos">
                        <i class="fas fa-file-alt"></i> Documentos
                    </button>
                </div>
                
                <div class="tab-content tab-content-box" id="tab-general">
                    <h4>Informaci√≥n General</h4>
                    <p>Esta pesta√±a muestra la informaci√≥n general del paciente:</p>
                    <ul>
                        <li>Datos b√°sicos del animal</li>
                        <li>Informaci√≥n del propietario</li>
                        <li>Alergias y condiciones especiales</li>
                        <li>Historial de vacunas</li>
                    </ul>
                </div>
                
                <div class="tab-content tab-content-box" id="tab-historial" class="d-none-toggle">
                    <h4>Historial M√©dico</h4>
                    <p>Registro completo de consultas y tratamientos:</p>
                    <ul>
                        <li><strong>15/01/2024</strong> - Revisi√≥n General (Dra. Marta Gonz√°lez)</li>
                        <li><strong>10/01/2024</strong> - Vacunaci√≥n (Dr. Carlos L√≥pez)</li>
                        <li><strong>05/01/2024</strong> - Limpieza Dental (Dra. Marta Gonz√°lez)</li>
                    </ul>
                </div>
                
                <div class="tab-content tab-content-box" id="tab-medicinas" class="d-none-toggle">
                    <h4>Medicinas Actuales</h4>
                    <p>Medicamentos prescritos:</p>
                    <ul>
                        <li><strong>Amoxicilina</strong> - 500mg cada 8 horas (Alergia verificada)</li>
                        <li><strong>Dipirona</strong> - 1000mg cada 6 horas</li>
                        <li><strong>Vitamina B12</strong> - 1000 UI diarias</li>
                    </ul>
                </div>
                
                <div class="tab-content tab-content-box" id="tab-documentos" class="d-none-toggle">
                    <h4>Documentos</h4>
                    <p>Archivos asociados al paciente:</p>
                    <ul>
                        <li>üìÑ Examen de laboratorio - 10/01/2024</li>
                        <li>üì∑ Radiograf√≠a de cadera - 05/01/2024</li>
                        <li>üìã Certificado de vacunaci√≥n - 15/01/2024</li>
                    </ul>
                </div>
            </div>
            
            <!-- TABLA DE PACIENTES CON ACCIONES -->
            <div id="tabla" class="preview-section">
                <h2><i class="fas fa-table"></i> Tabla de Pacientes</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Tabla con men√∫ de acciones flotante"><code>class="vet-table" + manage-wheel system</code></span></p>
                
                <div class="table-overflow">
                    <table class="vet-table">
                        <thead>
                            <tr>
                                <th>Paciente</th>
                                <th>Especie</th>
                                <th>Edad</th>
                                <th>Propietario</th>
                                <th>Tel√©fono</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Luna Garc√≠a</strong></td>
                                <td>Gato</td>
                                <td>3 a√±os</td>
                                <td>Juan Garc√≠a</td>
                                <td><a href="tel:+34123456789" class="link-inline">+34 123 456 789</a></td>
                                <td>
                                    <div class="manage-wheel">
                                        <button type="button" onclick="toggleWheel(this)">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                        <div class="manage-options">
                                            <button type="button"><i class="fas fa-eye"></i> Ver</button>
                                            <button type="button"><i class="fas fa-edit"></i> Editar</button>
                                            <button type="button"><i class="fas fa-trash"></i> Eliminar</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Max Rodr√≠guez</strong></td>
                                <td>Perro</td>
                                <td>5 a√±os</td>
                                <td>Mar√≠a Rodr√≠guez</td>
                                <td>+34 234 567 890</td>
                                <td>
                                    <div class="manage-wheel">
                                        <button type="button" onclick="toggleWheel(this)">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                        <div class="manage-options">
                                            <button type="button"><i class="fas fa-eye"></i> Ver</button>
                                            <button type="button"><i class="fas fa-edit"></i> Editar</button>
                                            <button type="button"><i class="fas fa-trash"></i> Eliminar</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Rocky L√≥pez</strong></td>
                                <td>Perro</td>
                                <td>2 a√±os</td>
                                <td>Carlos L√≥pez</td>
                                <td>+34 345 678 901</td>
                                <td>
                                    <div class="manage-wheel">
                                        <button type="button" onclick="toggleWheel(this)">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                        <div class="manage-options">
                                            <button type="button"><i class="fas fa-eye"></i> Ver</button>
                                            <button type="button"><i class="fas fa-edit"></i> Editar</button>
                                            <button type="button"><i class="fas fa-trash"></i> Eliminar</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            <!-- TABLA CON SELECTOR DE INSUMOS/SERVICIOS -->
            <div class="preview-section">
                <h2><i class="fas fa-list-check"></i> Tabla con Selector (Insumos/Servicios)</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Buscar a la izquierda, seleccionar a la derecha"><code>Columna de b√∫squeda + Columna de seleccionados</code></span></p>
                
                <div class="grid-2col-selector">
                    <!-- PANEL IZQUIERDO: B√öSQUEDA -->
                    <div class="panel-search">
                        <h3>Insumos Disponibles</h3>
                        
                        <div class="vet-search mb-1-5">
                            <i class="fas fa-search"></i>
                            <input type="text" id="search-insumos" placeholder="Buscar insumo...">
                        </div>
                        
                        <div class="insumo-list">
                            <div class="insumo-item" onclick="addInsumo('Vacuna antirr√°bica', this)">
                                <i class="fas fa-capsules"></i>
                                <span>Vacuna antirr√°bica</span>
                            </div>
                            <div class="insumo-item" onclick="addInsumo('Jeringa 3ml', this)">
                                <i class="fas fa-syringe"></i>
                                <span>Jeringa 3ml</span>
                            </div>
                            <div class="insumo-item" onclick="addInsumo('Gasas est√©riles', this)">
                                <i class="fas fa-bandage"></i>
                                <span>Gasas est√©riles</span>
                            </div>
                            <div class="insumo-item" onclick="addInsumo('Aguja 21G', this)">
                                <i class="fas fa-needle"></i>
                                <span>Aguja 21G</span>
                            </div>
                            <div class="insumo-item" onclick="addInsumo('Desinfectante', this)">
                                <i class="fas fa-spray-can"></i>
                                <span>Desinfectante</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- PANEL DERECHO: SELECCIONADOS -->
                    <div class="panel-selected">
                        <h3>Insumos Seleccionados</h3>
                        
                        <div id="selected-insumos" class="selected-container">
                            <div class="selected-empty">
                                <i class="fas fa-inbox"></i>
                                <p>Selecciona insumos</p>
                            </div>
                        </div>
                        
                        <button id="clear-btn" class="btn btn-danger btn-clear" class="d-none-toggle" onclick="clearInsumos()">
                            <i class="fas fa-trash"></i> Limpiar
                        </button>
                    </div>
                </div>
            </div>
            <!-- INFORMACI√ìN ESTILO FICHA/CONSULTA/HOSPITALIZACI√ìN -->
            <div class="preview-section">
                <h2><i class="fas fa-file-medical"></i> Informaci√≥n Estilo Ficha/Consulta</h2>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="section personal-info">
                            <div class="section-header-with-edit">
                                <h2 class="section-title-sm">Informaci√≥n General</h2>
                                <button class="btn-edit-icon" title="Editar">
                                    <i class="bi bi-pencil"></i>
                                </button>
                            </div>
                            <div class="info">
                                <div class="info-row info-row-full">
                                    <p><strong>Nombre:</strong> <span>Luna Garc√≠a</span></p>
                                </div>
                                <div class="info-row">
                                    <p><strong>Especie:</strong> <span>Gato</span></p>
                                    <p><strong>Raza:</strong> <span>Persa</span></p>
                                </div>
                                <div class="info-row">
                                    <p><strong>Color:</strong> <span>Gris y blanco</span></p>
                                    <p><strong>Sexo:</strong> <span>Hembra</span></p>
                                </div>
                                <div class="info-row">
                                    <p><strong>Edad:</strong> <span>3 a√±os 4 meses</span></p>
                                    <p><strong>Peso:</strong> <span>4.2 kg</span></p>
                                </div>
                                <div class="info-row info-row-full">
                                    <p><strong>Microchip:</strong> <span>985123456789</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="section resumen-clinico">
                            <h2 class="section-title-mb">Antecedentes M√©dicos Cr√≠ticos</h2>
                            <div class="info">
                                <div class="info-row">
                                    <div class="medical-info-item">
                                        <p><strong><i class="bi bi-exclamation-triangle icon-danger"></i> Alergias:</strong> 
                                            <span>Penicilina, L√°cteos</span>
                                        </p>
                                    </div>
                                    <div class="medical-info-item">
                                        <p><strong><i class="bi bi-heart-pulse icon-heart"></i> Enfermedades Cr√≥nicas:</strong> 
                                            <span>Insuficiencia renal leve</span>
                                        </p>
                                    </div>
                                    <div class="medical-info-item">
                                        <p><strong><i class="bi bi-capsule icon-info"></i> Medicamentos Actuales:</strong> 
                                            <span>Dipirona 500mg c/8hs</span>
                                        </p>
                                    </div>
                                    <div class="medical-info-item">
                                        <p><strong><i class="bi bi-hospital icon-purple"></i> Cirug√≠as Previas:</strong> 
                                            <span>Esterilizaci√≥n (2021)</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row" class="mt-1-5">
                    <div class="col-md-12">
                        <div class="section responsable-section">
                            <div class="section-header-with-edit">
                                <h2 class="section-title-sm">Responsable</h2>
                                <button class="btn-edit-icon" title="Editar">
                                    <i class="bi bi-pencil"></i>
                                </button>
                            </div>
                            <div class="info">
                                <div class="info-row">
                                    <div>
                                        <p><strong>Due√±o:</strong> <span>Juan Garc√≠a L√≥pez</span></p>
                                        <p><strong>Tel√©fono:</strong> <a href="tel:+34123456789" class="link-inline">+34 123 456 789</a></p>
                                    </div>
                                    <div>
                                        <p><strong>Email:</strong> <a href="mailto:juan@ejemplo.com" class="link-inline">juan@ejemplo.com</a></p>
                                        <p><strong>Direcci√≥n:</strong> <span>Calle Principal 123, Madrid</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="tarjetas" class="preview-section">
                <h2><i class="fas fa-layer-group"></i> Tarjetas - Tipo Compacta</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Tarjetas compactas para mostrar informaci√≥n r√°pida"><code>class="info-card" + class="info-card-header"</code></span></p>
                
                <div class="compact-cards-grid">
                    <div class="info-card">
                        <div class="info-card-header">
                            <h4><i class="fas fa-paw"></i> Luna Garc√≠a</h4>
                            <div class="info-card-actions">
                                <button title="Editar"><i class="fas fa-pencil-alt"></i></button>
                                <button title="M√°s opciones"><i class="fas fa-ellipsis-h"></i></button>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-item">
                                <div class="info-label">Especie</div>
                                <div class="info-value">Gato Persa</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Edad</div>
                                <div class="info-value">3 a√±os</div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-item">
                                <div class="info-label">Peso</div>
                                <div class="info-value">4.2 kg</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Microchip</div>
                                <div class="info-value">S√≠</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-card-header">
                            <h4><i class="fas fa-paw"></i> Max Rodr√≠guez</h4>
                            <div class="info-card-actions">
                                <button title="Editar"><i class="fas fa-pencil-alt"></i></button>
                                <button title="M√°s opciones"><i class="fas fa-ellipsis-h"></i></button>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-item">
                                <div class="info-label">Especie</div>
                                <div class="info-value">Perro Labrador</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Edad</div>
                                <div class="info-value">5 a√±os</div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-item">
                                <div class="info-label">Peso</div>
                                <div class="info-value">32.5 kg</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Microchip</div>
                                <div class="info-value">S√≠</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-card-header">
                            <h4><i class="fas fa-paw"></i> Bella Mart√≠nez</h4>
                            <div class="info-card-actions">
                                <button title="Editar"><i class="fas fa-pencil-alt"></i></button>
                                <button title="M√°s opciones"><i class="fas fa-ellipsis-h"></i></button>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-item">
                                <div class="info-label">Especie</div>
                                <div class="info-value">Gato Siam√©s</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Edad</div>
                                <div class="info-value">2 a√±os</div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-item">
                                <div class="info-label">Peso</div>
                                <div class="info-value">3.8 kg</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Microchip</div>
                                <div class="info-value">No</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- SECCIONES DE INFORMACI√ìN -->
            <div class="preview-section">
                <h2><i class="fas fa-file-alt"></i> Tarjetas - Tipo Informaci√≥n</h2>
                
                <div class="section">
                    <h3><i class="fas fa-medical"></i> √öltimo Servicio</h3>
                    <div class="section-content">
                        <div class="section-item">
                            <div class="section-label">Tipo de Servicio</div>
                            <div class="section-value">Revisi√≥n General + Vacunas</div>
                        </div>
                        <div class="section-item">
                            <div class="section-label">Fecha</div>
                            <div class="section-value">15/01/2024</div>
                        </div>
                        <div class="section-item">
                            <div class="section-label">Doctor</div>
                            <div class="section-value">Dra. Marta Gonz√°lez</div>
                        </div>
                        <div class="section-item">
                            <div class="section-label">Estado</div>
                            <div class="section-value"><span class="badge badge-success">Completado</span></div>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3><i class="fas fa-flask"></i> Resultados de Laboratorio</h3>
                    <div class="section-content">
                        <div class="section-item">
                            <div class="section-label">An√°lisis</div>
                            <div class="section-value">Hemograma Completo</div>
                        </div>
                        <div class="section-item">
                            <div class="section-label">Resultado</div>
                            <div class="section-value"><span class="badge badge-success">Normal</span></div>
                        </div>
                        <div class="section-item">
                            <div class="section-label">Fecha</div>
                            <div class="section-value">10/01/2024</div>
                        </div>
                        <div class="section-item">
                            <div class="section-label">Acceso</div>
                            <div class="section-value">
                                <button class="btn btn-sm btn-primary" class="btn-p-sm">
                                    <i class="fas fa-download"></i> Ver
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- TARJETAS NORMALES -->
            <div class="preview-section">
                <h2><i class="fas fa-cards"></i> Tarjetas - Tipo Normal</h2>
                
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <div class="info-card" class="h-full">
                            <div class="info-card-header">
                                <h4>Informaci√≥n de Contacto</h4>
                            </div>
                            <div class="info-card-body">
                                <div class="info-item" class="mb-05">
                                    <div class="info-label">Propietario</div>
                                    <div class="info-value">Juan Garc√≠a L√≥pez</div>
                                </div>
                                <div class="info-item" class="mb-05">
                                    <div class="info-label">Tel√©fono</div>
                                    <div class="info-value"><a href="tel:+34123456789" class="link-inline">+34 123 456 789</a></div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Email</div>
                                    <div class="info-value"><a href="mailto:juan@ejemplo.com" class="link-inline">juan@ejemplo.com</a></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4 mb-3">
                        <div class="info-card" class="h-full">
                            <div class="info-card-header">
                                <h4>Estado de Salud</h4>
                            </div>
                            <div class="info-card-body">
                                <div class="info-item" class="mb-05">
                                    <div class="info-label">Vacunas</div>
                                    <div class="info-value"><span class="badge badge-success">Al d√≠a</span></div>
                                </div>
                                <div class="info-item" class="mb-05">
                                    <div class="info-label">Desparasitado</div>
                                    <div class="info-value"><span class="badge badge-success">S√≠</span></div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Esterilizado</div>
                                    <div class="info-value"><span class="badge badge-warning">Pendiente</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4 mb-3">
                        <div class="info-card" class="h-full">
                            <div class="info-card-header">
                                <h4>Alergias y Notas</h4>
                            </div>
                            <div class="info-card-body">
                                <div class="info-item" class="mb-05">
                                    <div class="info-label">Alergias</div>
                                    <div class="info-value">Penicilina, L√°cteos</div>
                                </div>
                                <div class="info-item" class="mb-05">
                                    <div class="info-label">Temperamento</div>
                                    <div class="info-value">D√≥cil</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Notas</div>
                                    <div class="info-value">Requiere cuidados especiales</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- BOTONES DE ACCI√ìN -->
            <div id="botones" class="preview-section">
                <h2><i class="fas fa-hand-pointer"></i> Botones Est√°ndar</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Tres variantes: primario (verde), secundario, peligro"><code>class="btn btn-primary/secondary/danger"</code></span></p>
                
                <div class="component-group">
                    <h3>Botones Principales</h3>
                    <div class="component-row">
                        <button class="btn btn-primary"><i class="fas fa-plus"></i> Crear Paciente</button>
                        <button class="btn btn-primary"><i class="fas fa-check"></i> Guardar</button>
                        <button class="btn btn-primary"><i class="fas fa-edit"></i> Editar</button>
                    </div>
                </div>
                
                <div class="component-group">
                    <h3>Botones Secundarios</h3>
                    <div class="component-row">
                        <button class="btn btn-cancel"><i class="fas fa-times"></i> Cancelar</button>
                        <button class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Volver</button>
                    </div>
                </div>
                
                <div class="component-group">
                    <h3>Botones de Peligro</h3>
                    <div class="component-row">
                        <button class="btn btn-danger"><i class="fas fa-trash"></i> Eliminar</button>
                        <button class="btn btn-danger"><i class="fas fa-ban"></i> Desactivar</button>
                    </div>
                </div>
                
                <div class="component-group">
                    <h3>Botones Peque√±os</h3>
                    <div class="component-row">
                        <button class="btn btn-primary btn-sm"><i class="fas fa-pencil-alt"></i> Editar</button>
                        <button class="btn btn-danger btn-sm"><i class="fas fa-trash"></i> Eliminar</button>
                        <button class="btn btn-success btn-sm"><i class="fas fa-download"></i> Descargar</button>
                    </div>
                </div>
            </div>
            
            <!-- FORMULARIOS -->
            <div id="formularios" class="preview-section">
                <h2><i class="fas fa-form"></i> Elementos de Formulario</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Inputs, selects, textareas con estilos unificados"><code>class="form-control" + type="text/email/date/select"</code></span></p>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="demo-form-group">
                            <label for="demo-text">Nombre</label>
                            <input type="text" id="demo-text" class="form-control" placeholder="Ingrese el nombre">
                        </div>
                        
                        <div class="demo-form-group">
                            <label for="demo-email">Email</label>
                            <input type="email" id="demo-email" class="form-control" placeholder="correo@ejemplo.com">
                        </div>
                        
                        <div class="demo-form-group">
                            <label for="demo-tel">Tel√©fono</label>
                            <input type="tel" id="demo-tel" class="form-control" placeholder="+34 123 456 789">
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="demo-form-group">
                            <label for="demo-date">Fecha</label>
                            <input type="date" id="demo-date" class="form-control">
                        </div>
                        
                        <div class="demo-form-group">
                            <label for="demo-select">Servicio</label>
                            <select id="demo-select" class="form-control">
                                <option>Selecciona un servicio</option>
                                <option>Revisi√≥n General</option>
                                <option>Vacunaci√≥n</option>
                                <option>Limpieza Dental</option>
                                <option>Cirug√≠a</option>
                            </select>
                        </div>
                        
                        <div class="demo-form-group">
                            <label for="demo-textarea">Notas</label>
                            <textarea id="demo-textarea" class="form-control" rows="2" placeholder="Ingrese notas adicionales..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- INPUTS CON VALIDACI√ìN -->
                <div class="section-divider">
                    <h3 class="mb-1rem"><i class="fas fa-check-circle"></i> Inputs con Validaci√≥n</h3>
                    
                    <div class="row">
                        <div class="col-md-4">
                            <div class="demo-form-group">
                                <label for="input-rut">RUT (ej: 12345678-9)</label>
                                <input 
                                    type="text" 
                                    id="input-rut" 
                                    class="form-control" 
                                    placeholder="12345678-9"
                                    oninput="validateRUT(this)"
                                    maxlength="12">
                                <small id="rut-feedback" class="feedback-text"></small>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="demo-form-group">
                                <label for="input-phone">Tel√©fono (ej: +56912345678)</label>
                                <input 
                                    type="tel" 
                                    id="input-phone" 
                                    class="form-control" 
                                    placeholder="+56912345678"
                                    oninput="validatePhone(this)"
                                    maxlength="15">
                                <small id="phone-feedback" class="feedback-text"></small>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="demo-form-group">
                                <label for="input-email">Correo (ej: usuario@ejemplo.com)</label>
                                <input 
                                    type="email" 
                                    id="input-email" 
                                    class="form-control" 
                                    placeholder="usuario@ejemplo.com"
                                    oninput="validateEmail(this)">
                                <small id="email-feedback" class="feedback-text"></small>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem; padding: 1rem; background: var(--bg-light); border-radius: 6px; border-left: 3px solid var(--info-color);">
                        <p >
                            <i class="fas fa-info-circle" class="text-info"></i>
                            <strong>RUT:</strong> Formato chileno (ej: 12345678-9)<br>
                            <strong>Tel√©fono:</strong> N√∫meros y s√≠mbolos (+, -, espacio) permitidos<br>
                            <strong>Correo:</strong> Validaci√≥n de formato email est√°ndar
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- ALERTAS -->
            <div id="alertas" class="preview-section">
                <h2><i class="fas fa-exclamation-circle"></i> Alertas</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Cuatro tipos: √©xito, informaci√≥n, advertencia, peligro"><code>class="alert alert-success/info/warning/danger"</code></span></p>
                
                <!-- Botones para mostrar alertas -->
                <div class="btn-group-flex">
                    <button class="btn btn-primary" onclick="showAlert('success')"><i class="fas fa-check-circle"></i> Mostrar √âxito</button>
                    <button class="btn btn-primary" onclick="showAlert('info')"><i class="fas fa-info-circle"></i> Mostrar Info</button>
                    <button class="btn btn-primary" onclick="showAlert('warning')"><i class="fas fa-exclamation-triangle"></i> Mostrar Advertencia</button>
                    <button class="btn btn-primary" onclick="showAlert('danger')"><i class="fas fa-times-circle"></i> Mostrar Error</button>
                </div>

                <!-- Contenedor de alertas -->
                <div id="alerts-container" class="alert-container">
                    <div id="alert-success" class="alert alert-success" class="d-none-toggle alert-animated">
                        <i class="fas fa-check-circle"></i> <strong>√âxito!</strong> Operaci√≥n completada correctamente.
                    </div>
                    
                    <div id="alert-info" class="alert alert-info" class="d-none-toggle alert-animated">
                        <i class="fas fa-info-circle"></i> <strong>Informaci√≥n:</strong> Informaci√≥n importante para el usuario.
                    </div>
                    
                    <div id="alert-warning" class="alert alert-warning" class="d-none-toggle alert-animated">
                        <i class="fas fa-exclamation-triangle"></i> <strong>Advertencia:</strong> Por favor, revise esta informaci√≥n.
                    </div>
                    
                    <div id="alert-danger" class="alert alert-danger" class="d-none-toggle alert-animated">
                        <i class="fas fa-times-circle"></i> <strong>Error:</strong> Ocurri√≥ un error al procesar la solicitud.
                    </div>
                </div>
            </div>

            <!-- TOOLTIPS -->
            <div id="tooltips" class="preview-section">
                <h2><i class="fas fa-comment-dots"></i> Tooltips</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Peque√±os textos de ayuda al pasar el mouse"><code>class="tooltip-trigger" data-tooltip="Tu texto"</code></span></p>
                
                <div class="component-group">
                    <h3>Tooltip B√°sico - Arriba (Por defecto)</h3>
                    <p class="mb-1rem">
                        Pasa el mouse sobre: <span class="tooltip-trigger" data-tooltip="Este es un tooltip b√°sico"><strong class="text-primary" style="cursor: help;">informaci√≥n</strong></span>
                    </p>
                </div>

                <div class="component-group">
                    <h3>Tooltips en Botones</h3>
                    <div class="tooltip-showcase">
                        <button class="btn btn-primary" title="Guardar cambios" class="pos-rel">
                            <span class="tooltip-trigger" data-tooltip="Guardar cambios"><i class="fas fa-save"></i> Guardar</span>
                        </button>
                        <button class="btn btn-secondary" class="pos-rel">
                            <span class="tooltip-trigger" data-tooltip="Deshacer √∫ltima acci√≥n"><i class="fas fa-undo"></i> Deshacer</span>
                        </button>
                        <button class="btn btn-secondary" class="pos-rel">
                            <span class="tooltip-trigger" data-tooltip="Rehacer √∫ltima acci√≥n"><i class="fas fa-redo"></i> Rehacer</span>
                        </button>
                    </div>
                </div>

                <div class="component-group">
                    <h3>Tooltips en Iconos</h3>
                    <div class="tooltip-showcase-icons">
                        <div class="tooltip-icon-box">
                            <i class="fas fa-question-circle" class="tooltip-icon" class="tooltip-trigger" data-tooltip="Necesitas ayuda?"></i>
                            <p class="tooltip-icon-label">
                                <span class="tooltip-trigger" data-tooltip="Informaci√≥n disponible">Ayuda</span>
                            </p>
                        </div>
                        <div class="tooltip-icon-box">
                            <i class="fas fa-info-circle" style="font-size: 2rem; color: #17a2b8; cursor: help;" class="tooltip-trigger" data-tooltip="M√°s detalles sobre esta secci√≥n"></i>
                            <p class="tooltip-icon-label">
                                <span class="tooltip-trigger" data-tooltip="Detalles adicionales">Informaci√≥n</span>
                            </p>
                        </div>
                        <div class="tooltip-icon-box">
                            <i class="fas fa-exclamation-triangle" style="font-size: 2rem; color: #ffc107; cursor: help;" class="tooltip-trigger" data-tooltip="Ten cuidado con esto"></i>
                            <p class="tooltip-icon-label">
                                <span class="tooltip-trigger" data-tooltip="Precauci√≥n requerida">Advertencia</span>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="component-group">
                    <h3>Tooltips con Contenido Largo</h3>
                    <p class="mb-1rem">
                        Pasa el mouse sobre: <span class="tooltip-trigger" data-tooltip="Este es un tooltip con m√°s informaci√≥n para el usuario"><strong class="text-primary" style="cursor: help;">texto de ayuda</strong></span>
                    </p>
                </div>
            </div>

            <!-- MODALS -->
            <div id="modals" class="preview-section">
                <h2><i class="fas fa-window-maximize"></i> Modals</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Ventanas modales para di√°logos y confirmaciones"><code>class="modal-overlay show" + class="ui-modal ui-modal-lg/sm"</code></span></p>

                <!-- Modal Completo Est√°tico -->
                <div class="component-group">
                    <h3>Modal Completo (Modal Grande)</h3>
                    <p style="margin-bottom: 1rem; font-size: 0.9rem; color: #999;">Visualizaci√≥n est√°tica</p>
                    <div style="background: var(--bg-light); border-radius: 8px; padding: 2rem; position: relative; height: 400px; overflow: hidden; border: 1px dashed var(--border-color);">
                        <div style="background: white; border-radius: 12px; box-shadow: var(--shadow-md); position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 600px;">
                            <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center;">
                                <h2 style="margin: 0; font-size: 1.3rem; color: var(--text-dark);">T√≠tulo del Modal</h2>
                                <button style="background: none; border: none; font-size: 1.5rem; color: #666; cursor: pointer; padding: 0; width: 32px; height: 32px;">‚úï</button>
                            </div>
                            <div style="padding: 1.5rem; color: #666; line-height: 1.6;">
                                <p>Este es el contenido principal del modal. Aqu√≠ va la informaci√≥n importante que necesita el usuario.</p>
                                <p style="margin-bottom: 0;">Los modales son perfectos para confirmar acciones, solicitar informaci√≥n o mostrar detalles.</p>
                            </div>
                            <div style="padding: 1.5rem; border-top: 1px solid var(--border-color); display: flex; gap: 0.75rem; justify-content: flex-end;">
                                <button class="btn btn-cancel" style="padding: 0.5rem 1rem;">Cancelar</button>
                                <button class="btn btn-primary" style="padding: 0.5rem 1rem;">Confirmar</button>
                            </div>
                        </div>
                        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.3); border-radius: 8px;"></div>
                    </div>
                </div>

                <!-- Modal Compacto Est√°tico -->
                <div class="component-group">
                    <h3>Modal Compacto (Modal Peque√±o)</h3>
                    <p style="margin-bottom: 1rem; font-size: 0.9rem; color: #999;">Visualizaci√≥n est√°tica</p>
                    <div style="background: var(--bg-light); border-radius: 8px; padding: 2rem; position: relative; height: 350px; overflow: hidden; border: 1px dashed var(--border-color);">
                        <div style="background: white; border-radius: 12px; box-shadow: var(--shadow-md); position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 350px;">
                            <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center;">
                                <h2 style="margin: 0; font-size: 1.1rem; color: var(--text-dark);">Confirmar Acci√≥n</h2>
                                <button style="background: none; border: none; font-size: 1.5rem; color: #666; cursor: pointer; padding: 0; width: 32px; height: 32px;">‚úï</button>
                            </div>
                            <div style="padding: 1.5rem; color: #666; line-height: 1.6; text-align: center;">
                                <p>¬øEst√°s seguro que deseas continuar?</p>
                            </div>
                            <div style="padding: 1.5rem; border-top: 1px solid var(--border-color); display: flex; gap: 0.75rem; justify-content: center;">
                                <button class="btn btn-secondary" style="padding: 0.5rem 1rem;">No</button>
                                <button class="btn btn-primary" style="padding: 0.5rem 1rem;">S√≠</button>
                            </div>
                        </div>
                        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.3); border-radius: 8px;"></div>
                    </div>
                </div>

                <!-- Modals Funcionales -->
                <div class="component-group">
                    <h3>Modals Funcionales</h3>
                    <p style="margin-bottom: 1rem; font-size: 0.9rem; color: #999;">Haz click para abrir</p>
                    <div class="tooltip-showcase">
                        <button class="btn btn-primary" onclick="openModal('modalLarge')">
                            <i class="fas fa-expand"></i> Abrir Modal Grande
                        </button>
                        <button class="btn btn-primary" onclick="openModal('modalSmall')">
                            <i class="fas fa-compress"></i> Abrir Modal Peque√±o
                        </button>
                    </div>
                </div>
            </div>

            <!-- Modal Grande Funcional -->
            <div id="modalLarge" class="modal-overlay" onclick="closeModal(event, 'modalLarge')">
                <div class="ui-modal ui-modal-lg" onclick="event.stopPropagation()">
                    <div class="ui-modal-header">
                        <h2>Editar Informaci√≥n</h2>
                        <button class="ui-modal-close" onclick="closeModal(null, 'modalLarge')"><i class="fas fa-times"></i></button>
                    </div>
                    <div class="ui-modal-body">
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-dark);">Nombre Completo</label>
                            <input type="text" class="form-control" placeholder="Ingrese el nombre" value="Juan Garc√≠a L√≥pez">
                        </div>
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-dark);">Correo Electr√≥nico</label>
                            <input type="email" class="form-control" placeholder="correo@ejemplo.com" value="juan@ejemplo.com">
                        </div>
                        <div style="margin-bottom: 0;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-dark);">Tel√©fono</label>
                            <input type="tel" class="form-control" placeholder="+34 123 456 789" value="+34 123 456 789">
                        </div>
                    </div>
                    <div class="ui-modal-footer">
                        <button class="btn btn-cancel" onclick="closeModal(null, 'modalLarge')">Cancelar</button>
                        <button class="btn btn-primary" onclick="closeModal(null, 'modalLarge')">Guardar Cambios</button>
                    </div>
                </div>
            </div>

            <!-- Modal Peque√±o Funcional -->
            <div id="modalSmall" class="modal-overlay" onclick="closeModal(event, 'modalSmall')">
                <div class="ui-modal ui-modal-sm" onclick="event.stopPropagation()">
                    <div class="ui-modal-header">
                        <h2>Confirmar Eliminaci√≥n</h2>
                        <button class="ui-modal-close" onclick="closeModal(null, 'modalSmall')"><i class="fas fa-times"></i></button>
                    </div>
                    <div class="ui-modal-body" style="text-align: center;">
                        <div class="mb-1rem">
                            <i class="fas fa-exclamation-triangle" style="font-size: 2.5rem; color: #ffc107;"></i>
                        </div>
                        <p><strong>¬øEst√°s seguro?</strong></p>
                        <p style="margin-bottom: 0; font-size: 0.9rem; color: #999;">Esta acci√≥n no se puede deshacer.</p>
                    </div>
                    <div class="ui-modal-footer">
                        <button class="btn btn-cancel" onclick="closeModal(null, 'modalSmall')">Cancelar</button>
                        <button class="btn btn-danger" onclick="closeModal(null, 'modalSmall')">Eliminar</button>
                    </div>
                </div>
            </div>
            
            <!-- COMPONENTES AVANZADOS POR CATEGOR√çAS -->
            <div id="componentes-avanzados" class="preview-section">
                <h2><i class="fas fa-layer-group"></i> Componentes Est√°ndar Avanzados</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Componentes reutilizables para casos espec√≠ficos"><code>component-group + custom HTML structure</code></span></p>
                
                <div class="advanced-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.25rem;">
                    <!-- B√∫squeda y Filtros -->
                    <div class="component-card" style="background: white; border: 1px solid var(--border-color); border-radius: 10px; box-shadow: var(--shadow-sm); padding: 1rem; display: flex; flex-direction: column; gap: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="margin: 0; font-size: 1.05rem; display: flex; align-items: center; gap: 0.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; width: 100%;">
                                üìã Secci√≥n de Filtros
                            </h3>
                            <div style="text-align: right;">
                                <div style="font-size: 0.8rem; color: #999; white-space: nowrap;">Componente</div>
                                <div style="font-size: 0.75rem; color: #666;">Usa: <code>filters-section</code></div>
                            </div>
                        </div>
                        <div style="background: #f9f9f9; border: 1px dashed var(--border-color); border-radius: 8px; padding: 1rem;">
                            <!-- B√∫squeda Principal: FILTER-SEARCH -->
                            <div class="mb-1rem">
                                <label style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.5px; display: block; margin-bottom: 0.75rem;">
                                    <i class="fas fa-search"></i> Buscar (filter-search)
                                </label>
                                <input type="text" class="form-control" placeholder="Motivo, diagn√≥stico..." style="padding: 0.75rem 0.85rem; font-size: 0.95rem;">
                            </div>
                            
                            <!-- Filtros Grid -->
                            <div style="display: grid; grid-template-columns: 1fr; gap: 1rem; margin-bottom: 1.25rem; padding-bottom: 1.25rem; border-bottom: 1px solid var(--border-color);">
                                <!-- Filtro Fecha Mes/A√±o: FILTER-DATE-MONTH-YEAR -->
                                <div>
                                    <label style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.5px; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                                        <i class="fas fa-calendar"></i> Fecha Mes/A√±o (filter-date-month-year)
                                    </label>
                                    <div style="display: flex; gap: 0.5rem; align-items: center;">
                                        <button class="btn btn-primary" style="padding: 0.5rem 0.75rem; display: flex; align-items: center; justify-content: center;" title="Per√≠odo anterior">
                                            <i class="fas fa-arrow-left" style="font-size: 0.9rem;"></i>
                                        </button>
                                        <select class="form-control" style="flex: 1; padding: 0.5rem;">
                                            <option value="">Mes</option>
                                            <option>Enero</option>
                                            <option>Febrero</option>
                                            <option>Diciembre</option>
                                        </select>
                                        <select class="form-control" style="flex: 1; padding: 0.5rem;">
                                            <option value="">A√±o</option>
                                            <option>2024</option>
                                            <option>2025</option>
                                        </select>
                                        <button class="btn btn-primary" style="padding: 0.5rem 0.75rem; display: flex; align-items: center; justify-content: center;" title="Per√≠odo siguiente">
                                            <i class="fas fa-arrow-right" style="font-size: 0.9rem;"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Filtro Fecha Calendario: FILTER-DATE-PICKER -->
                                <div>
                                    <label style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.5px; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                                        <i class="fas fa-calendar-alt"></i> Fecha Calendario (filter-date-picker)
                                    </label>
                                    <div style="display: flex; gap: 0.5rem; align-items: center;">
                                        <input type="date" class="form-control" style="flex: 1; padding: 0.5rem;">
                                        <input type="date" class="form-control" style="flex: 1; padding: 0.5rem;" placeholder="Hasta">
                                        <button class="btn btn-primary" style="padding: 0.5rem 0.75rem; display: flex; align-items: center; justify-content: center;" title="Aplicar rango de fechas">
                                            <i class="fas fa-check" style="font-size: 0.9rem;"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Filtro Estado Mejorado: FILTER-STATUS-CHECKBOX -->
                                <div>
                                    <label style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.5px; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                                        <i class="fas fa-toggle-on"></i> Estado (filter-status-checkbox)
                                    </label>
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.75rem;">
                                        <label style="display: flex; align-items: center; gap: 0.6rem; cursor: pointer; padding: 0.65rem 0.9rem; background: white; border: 1.5px solid #e0e0e0; border-radius: 6px; font-size: 0.95rem; font-weight: 500; transition: all 0.2s; color: #333;">
                                            <input type="checkbox" checked style="cursor: pointer; width: 14px; height: 14px; margin: 0;"> 
                                            <span>Activa</span>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 0.6rem; cursor: pointer; padding: 0.65rem 0.9rem; background: white; border: 1.5px solid #e0e0e0; border-radius: 6px; font-size: 0.95rem; font-weight: 500; transition: all 0.2s; color: #333;">
                                            <input type="checkbox" checked style="cursor: pointer; width: 14px; height: 14px; margin: 0;"> 
                                            <span>Pausada</span>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 0.6rem; cursor: pointer; padding: 0.65rem 0.9rem; background: white; border: 1.5px solid #e0e0e0; border-radius: 6px; font-size: 0.95rem; font-weight: 500; transition: all 0.2s; color: #333;">
                                            <input type="checkbox" style="cursor: pointer; width: 14px; height: 14px; margin: 0;"> 
                                            <span>Inactiva</span>
                                        </label>
                                    </div>
                                </div>

                                <!-- Filtro Categor√≠a: FILTER-SELECT-SINGLE -->
                                <div>
                                    <label style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.5px; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                                        <i class="fas fa-list"></i> Categor√≠a (filter-select-single)
                                    </label>
                                    <select class="form-control" style="padding: 0.75rem;">
                                        <option value="">-- Todas las categor√≠as --</option>
                                        <option>Consulta General</option>
                                        <option>Urgencia</option>
                                        <option>Cirug√≠a</option>
                                        <option>Vacunaci√≥n</option>
                                    </select>
                                </div>

                                <!-- Filtro Rango Num√©rico: FILTER-RANGE-NUMBER -->
                                <div>
                                    <label style="font-size: 0.75rem; font-weight: 700; color: #666; text-transform: uppercase; letter-spacing: 0.5px; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                                        <i class="fas fa-sliders-h"></i> Rango Precio (filter-range-number)
                                    </label>
                                    <div style="display: flex; gap: 0.5rem; align-items: center;">
                                        <input type="number" class="form-control" placeholder="Desde" style="padding: 0.5rem; flex: 1;">
                                        <span style="color: #999; font-weight: 600;">-</span>
                                        <input type="number" class="form-control" placeholder="Hasta" style="padding: 0.5rem; flex: 1;">
                                        <button class="btn btn-primary" style="padding: 0.5rem 0.75rem; display: flex; align-items: center; justify-content: center;">
                                            <i class="fas fa-check" style="font-size: 0.9rem;"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Botones de Acci√≥n -->
                            <div style="display: flex; gap: 0.75rem; justify-content: flex-end;">
                                <button class="btn btn-secondary" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
                                    <i class="fas fa-redo"></i> Limpiar
                                </button>
                                <button class="btn btn-primary" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
                                    <i class="fas fa-search"></i> Buscar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Tags e Indicadores -->
                    <div class="component-card" style="background: white; border: 1px solid var(--border-color); border-radius: 10px; box-shadow: var(--shadow-sm); padding: 1rem; display: flex; flex-direction: column; gap: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="margin: 0; font-size: 1.05rem; display: flex; align-items: center; gap: 0.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; width: 100%;">
                                üè∑Ô∏è Tags e Indicadores
                            </h3>
                            <div style="text-align: right;">
                                <div style="font-size: 0.8rem; color: #999; white-space: nowrap;">Componente</div>
                                <div style="font-size: 0.75rem; color: #666;">Usa: <code>tag-chip</code></div>
                            </div>
                        </div>
                        <div class="section" style="padding: 0.75rem; background: #f9f9f9; border-radius: 8px; border: 1px dashed var(--border-color);">
                            <div style="display: flex; gap: 0.35rem; flex-wrap: wrap;">
                                <span style="display: inline-flex; align-items: center; gap: 0.35rem; padding: 0.35rem 0.7rem; background: var(--primary-color); color: white; border-radius: 5px; font-weight: 600; font-size: 0.8rem;">
                                    <i class="fas fa-check-circle"></i> Activo
                                </span>
                                <span style="display: inline-flex; align-items: center; gap: 0.35rem; padding: 0.35rem 0.7rem; background: #ffc107; color: white; border-radius: 5px; font-weight: 600; font-size: 0.8rem;">
                                    <i class="fas fa-exclamation-triangle"></i> En Revisi√≥n
                                </span>
                                <span style="display: inline-flex; align-items: center; gap: 0.35rem; padding: 0.35rem 0.7rem; background: #dc3545; color: white; border-radius: 5px; font-weight: 600; font-size: 0.8rem;">
                                    <i class="fas fa-times-circle"></i> Cr√≠tico
                                </span>
                                <span style="display: inline-flex; align-items: center; gap: 0.35rem; padding: 0.35rem 0.7rem; background: #6c757d; color: white; border-radius: 5px; font-weight: 600; font-size: 0.8rem;">
                                    <i class="fas fa-archive"></i> Archivado
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Acciones y Men√∫s -->
                    <div class="component-card" style="background: white; border: 1px solid var(--border-color); border-radius: 10px; box-shadow: none; padding: 1rem; display: flex; flex-direction: column; gap: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="margin: 0; font-size: 1.05rem; display: flex; align-items: center; gap: 0.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; width: 100%;">
                                ‚öôÔ∏è Acciones y Men√∫s (Desplegables)
                            </h3>
                            <div style="text-align: right;">
                                <div style="font-size: 0.8rem; color: #999; white-space: nowrap;">Componente</div>
                                <div style="font-size: 0.75rem; color: #666;">Usa: <code>action-dropdown</code></div>
                            </div>
                        </div>
                        <div class="actions-body" style="padding: 0; background: transparent; border: none; display: block; box-shadow: none !important;">
                            <div class="action-row" onclick="toggleActionDetails(this)" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem; border-radius: 6px; cursor: pointer; background: #f8f9fa;">
                                <i class="fas fa-chevron-right action-chevron" style="color: var(--primary-color); transition: transform 0.2s ease;"></i>
                                <strong>Acci√≥n Principal</strong>
                                <span style="color: #999; font-size: 0.85rem;">12/12/2025 07:30</span>
                            </div>
                            <div class="action-details" style="display: none; padding: 0.75rem; border-left: 3px solid var(--primary-color); margin-top: 0.5rem;">
                                <p style="margin: 0 0 0.5rem 0; font-size: 0.9rem;"><strong>Descripci√≥n:</strong> Acci√≥n con men√∫ desplegable para realizar operaciones espec√≠ficas</p>
                                <p style="margin: 0 0 0.5rem 0; font-size: 0.9rem;"><strong>Usuario:</strong> Sistema de Usuario</p>
                                <p style="margin: 0; font-size: 0.9rem;"><strong>Estado:</strong> <span style="color: var(--primary-color);">Disponible</span></p>
                            </div>

                            <!-- Texto Desplegable Simple dentro del bloque -->
                            <div class="info-dropdown" style="box-shadow: none !important; background: transparent; border: none; padding: 0; margin: 0;">
                                <div class="action-row" onclick="toggleActionDetails(this)" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 0; cursor: pointer; border-bottom: 1px solid var(--border-color); margin-top: 0.75rem;">
                                    <i class="fas fa-chevron-right action-chevron" style="color: var(--primary-color); transition: transform 0.2s ease;"></i>
                                    <strong>Texto informativo</strong>
                                    <span style="color: #999; font-size: 0.85rem;">Info-dropdown</span>
                                </div>
                                <div class="action-details" style="display: none; padding: 0.5rem 0 0 1.5rem; color: #555; line-height: 1.5;">
                                    Informaci√≥n adicional en texto plano, sin fondos ni estilos llamativos. √ösalo para notas o aclaraciones ligeras.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Informaci√≥n de Contacto y Despliegue -->
                    <div class="component-card" style="background: white; border: 1px solid var(--border-color); border-radius: 10px; box-shadow: var(--shadow-sm); padding: 1rem; display: flex; flex-direction: column; gap: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="margin: 0; font-size: 1.05rem; display: flex; align-items: center; gap: 0.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; width: 100%;">
                                üìû Informaci√≥n de Contacto
                            </h3>
                            <div style="text-align: right;">
                                <div style="font-size: 0.8rem; color: #999; white-space: nowrap;">Componente</div>
                                <div style="font-size: 0.75rem; color: #666;">Usa: <code>contact-card</code></div>
                            </div>
                        </div>
                        <div class="section" style="padding: 1rem; background: #f9f9f9; border-radius: 8px; border: 1px dashed var(--border-color);">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div>
                                    <small style="color: #999; text-transform: uppercase; font-weight: 600;">Nombre</small>
                                    <p style="margin: 0.25rem 0 0 0; font-size: 0.95rem;"><strong>Juan Garc√≠a L√≥pez</strong></p>
                                </div>
                                <div>
                                    <small style="color: #999; text-transform: uppercase; font-weight: 600;">Tel√©fono</small>
                                    <p style="margin: 0.25rem 0 0 0; font-size: 0.95rem;"><strong><a href="tel:+34123456789" class="link-inline">+34 123 456 789</a></strong></p>
                                </div>
                                <div>
                                    <small style="color: #999; text-transform: uppercase; font-weight: 600;">Email</small>
                                    <p style="margin: 0.25rem 0 0 0; font-size: 0.95rem;"><a href="mailto:juan@ejemplo.com" class="link-inline">juan@ejemplo.com</a></p>
                                </div>
                                <div>
                                    <small style="color: #999; text-transform: uppercase; font-weight: 600;">Direcci√≥n</small>
                                    <p style="margin: 0.25rem 0 0 0; font-size: 0.95rem;">Calle Principal 123</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- GU√çA DE INTEGRACI√ìN -->
            <div id="guia" class="preview-section">
                <h2><i class="fas fa-book"></i> Gu√≠a de Integraci√≥n e Importaci√≥n</h2>
                <p class="preview-description"><span class="tooltip-trigger" data-tooltip="Importa el CSS base y vincula los archivos est√°ticos"><code>@import "estilos_generales.css" + link static files</code></span></p>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="guide-box">
                            <h4>1. Importar Estilos Base</h4>
                            <pre><code>{# En tu template #}
{% load static %}

&lt;!-- En block extra_css --&gt;
&lt;link rel="stylesheet" href="{% static 'css/base/estilos_generales.css' %}"&gt;
&lt;link rel="stylesheet" href="{% static 'css/base/tables_base.css' %}"&gt;</code></pre>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="guide-box">
                            <h4>2. Usar Componentes Est√°ndar</h4>
                            <pre><code>{# Botones #}
&lt;button class="btn btn-primary"&gt;
  &lt;i class="fas fa-save"&gt;&lt;/i&gt; Guardar
&lt;/button&gt;

{# Tablas #}
&lt;table class="vet-table"&gt;</code></pre>
                        </div>
                    </div>
                </div>
                
                <div class="row" class="mt-1-5">
                    <div class="col-md-6">
                        <div class="guide-box">
                            <h4>3. Secciones de Informaci√≥n</h4>
                            <pre><code>&lt;div class="section"&gt;
  &lt;h3&gt;T√≠tulo&lt;/h3&gt;
  &lt;div class="info"&gt;
    &lt;div class="info-row"&gt;
      &lt;p&gt;&lt;strong&gt;Label:&lt;/strong&gt;
        &lt;span&gt;Valor&lt;/span&gt;
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="guide-box">
                            <h4>4. Sistema de Wheels (Acciones)</h4>
                            <pre><code>&lt;div class="manage-wheel"&gt;
  &lt;button onclick="toggleWheel(this)"&gt;
    &lt;i class="fas fa-cog"&gt;&lt;/i&gt;
  &lt;/button&gt;
  &lt;div class="manage-options" 
    class="d-none-toggle"&gt;
    &lt;button&gt;Opci√≥n 1&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 1.5rem; background: #e8f5e9; padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--primary-color);">
                    <h4>üìå Variables CSS Disponibles</h4>
                    <div class="guide-variables-grid">
                        <div style="font-size: 0.9rem;">
                            <strong>Colores:</strong><br>
                            <code style="background: white; padding: 0.25rem 0.5rem; border-radius: 3px;">--primary-color: #afe1af</code><br>
                            <code style="background: white; padding: 0.25rem 0.5rem; border-radius: 3px;">--primary-hover: #89c57c</code><br>
                            <code style="background: white; padding: 0.25rem 0.5rem; border-radius: 3px;">--text-dark: #103012</code>
                        </div>
                        <div style="font-size: 0.9rem;">
                            <strong>Espacios:</strong><br>
                            <code style="background: white; padding: 0.25rem 0.5rem; border-radius: 3px;">--shadow-sm: 0 2px 8px...</code><br>
                            <code style="background: white; padding: 0.25rem 0.5rem; border-radius: 3px;">--shadow-md: 0 4px 12px...</code><br>
                            <code style="background: white; padding: 0.25rem 0.5rem; border-radius: 3px;">--border-color: #e0e0e0</code>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 1.5rem; background: #fff3e0; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ff9800;">
                    <h4>‚ö†Ô∏è Archivo JavaScript Requerido</h4>
                    <p style="margin: 0.5rem 0; font-size: 0.9rem;">Para que funcionen los <strong>manage-wheels</strong>, aseg√∫rate de incluir en tu template base la funci√≥n <code>toggleWheel()</code> del archivo:</p>
                    <pre><code>static/js/inventario/gestion_wheel.js</code></pre>
                    <p style="margin: 0.5rem 0; font-size: 0.9rem;">O agrega el script directamente en tu template:</p>
                    <pre><code>&lt;script src="{% static 'js/inventario/gestion_wheel.js' %}"&gt;&lt;/script&gt;</code></pre>
                </div>
            </div>
                <h2><i class="fas fa-paint-brush"></i> Paleta de Colores</h2>
                
                <div class="row">
                    <div class="col-md-3 mb-3">
                        <div style="background-color: #afe1af; padding: 1.5rem; border-radius: 8px; text-align: center; color: white; box-shadow: var(--shadow-sm);">
                            <strong>Primario</strong><br>
                            <small>#afe1af</small>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div style="background-color: #89c57c; padding: 1.5rem; border-radius: 8px; text-align: center; color: white; box-shadow: var(--shadow-sm);">
                            <strong>Hover</strong><br>
                            <small>#89c57c</small>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div style="background-color: #6b8e6b; padding: 1.5rem; border-radius: 8px; text-align: center; color: white; box-shadow: var(--shadow-sm);">
                            <strong>√âxito</strong><br>
                            <small>#6b8e6b</small>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div style="background-color: #dc3545; padding: 1.5rem; border-radius: 8px; text-align: center; color: white; box-shadow: var(--shadow-sm);">
                            <strong>Peligro</strong><br>
                            <small>#dc3545</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
let activeClone = null;

function toggleWheel(button) {
    if (activeClone) {
        closeActiveMenu();
        return;
    }

    const options = button.nextElementSibling;
    const rect = button.getBoundingClientRect();
    const clone = options.cloneNode(true);
    
    clone.classList.add('show');
    clone.style.cssText = `
        position: fixed;
        top: ${rect.bottom + 8}px;
        right: ${window.innerWidth - rect.right}px;
        z-index: 9999;
        min-width: 180px;
    `;

    document.body.appendChild(clone);
    activeClone = clone;
    button.closest('.manage-wheel').classList.add('active');

    document.addEventListener('click', handleDocumentClick);
}

function closeActiveMenu() {
    if (activeClone) {
        activeClone.remove();
        activeClone = null;
        document.querySelectorAll('.manage-wheel.active').forEach(w => w.classList.remove('active'));
        document.removeEventListener('click', handleDocumentClick);
    }
}

function handleDocumentClick(event) {
    if (!event.target.closest('.manage-wheel') && !event.target.closest('.manage-options')) {
        closeActiveMenu();
    }
}

// Toggle para el componente Acciones y Men√∫s
function toggleActionDetails(row) {
    const details = row.nextElementSibling;
    const icon = row.querySelector('.action-chevron');
    if (!details) return;
    const isHidden = details.style.display === 'none' || details.style.display === '';
    details.style.display = isHidden ? 'block' : 'none';
    if (icon) {
        icon.style.transform = isHidden ? 'rotate(90deg)' : 'rotate(0deg)';
    }
}

// Toggle selector con cambio de color seg√∫n selecci√≥n
document.addEventListener('DOMContentLoaded', function() {
    // Selectores tipo grid o flex con botones que cambian de color
    const selectorGroups = document.querySelectorAll('[style*="grid"][style*="grid-template-columns"], [style*="flex"]');
    
    selectorGroups.forEach(group => {
        const buttons = group.querySelectorAll('.btn');
        if (buttons.length > 1 && buttons[0].classList.contains('btn-primary')) {
            // Este es un selector group
            buttons.forEach((button, index) => {
                button.addEventListener('click', function(e) {
                    // Remover clases de todos los botones
                    buttons.forEach(btn => {
                        btn.classList.remove('btn-primary');
                        btn.classList.add('btn-secondary');
                    });
                    // Agregar clase al seleccionado
                    this.classList.remove('btn-secondary');
                    this.classList.add('btn-primary');
                });
            });
        }
    });
});

// Funci√≥n para abrir modals
function openModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.classList.add('show');
    }
}

// Funci√≥n para cerrar modals
function closeModal(event, modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        // Si el event viene del overlay (click en fondo), cerramos
        if (event && event.target.classList.contains('modal-overlay')) {
            modal.classList.remove('show');
        } else if (!event) {
            // Si no hay event (click en bot√≥n), cerramos directamente
            modal.classList.remove('show');
        }
    }
}

// Funci√≥n para scroll a secciones
function scrollToSection(sectionId) {
    const element = document.getElementById(sectionId);
    if (element) {
        element.scrollIntoView({ behavior: 'smooth' });
        
        // Actualizar navbar activo
        document.querySelectorAll('.nav-section-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        const activeBtn = document.querySelector(`a[href="#${sectionId}"]`);
        if (activeBtn) {
            activeBtn.classList.add('active');
        }
    }
}

// Funci√≥n para manejar las pesta√±as
document.addEventListener('DOMContentLoaded', function() {
    const tabButtons = document.querySelectorAll('.tab-button');
    
    tabButtons.forEach(button => {
        button.addEventListener('click', function() {
            const tabId = this.getAttribute('data-tab');
            
            // Remover clase active de todos los botones
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            // Agregar clase active al bot√≥n clickeado
            this.classList.add('active');
            
            // Ocultar todos los contenidos
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // Mostrar el contenido de la pesta√±a seleccionada
            const tabContent = document.getElementById(tabId);
            if (tabContent) {
                tabContent.style.display = 'block';
            }
        });
    });
});

// Funci√≥n para mostrar/ocultar alertas
function showAlert(type) {
    const alertId = `alert-${type}`;
    const alertElement = document.getElementById(alertId);
    
    if (alertElement) {
        if (alertElement.style.display === 'none') {
            alertElement.style.display = 'block';
            // Auto-ocultar despu√©s de 5 segundos
            setTimeout(() => {
                alertElement.style.display = 'none';
            }, 5000);
        } else {
            alertElement.style.display = 'none';
        }
    }
}

// Validaci√≥n de RUT (formato chileno: 12345678-9)
function validateRUT(input) {
    let value = input.value.toUpperCase();
    const feedback = document.getElementById('rut-feedback');
    
    // Solo permitir n√∫meros, gui√≥n y K
    value = value.replace(/[^0-9K-]/g, '');
    
    // Agregar gui√≥n autom√°ticamente si tiene 8 d√≠gitos
    if (value.length >= 8 && !value.includes('-')) {
        value = value.slice(0, 8) + '-' + value.slice(8);
    }
    
    input.value = value;
    
    // Validar formato
    const rutRegex = /^\d{7,8}-[0-9K]$/;
    if (value === '') {
        feedback.textContent = '';
        input.style.borderColor = 'var(--border-color)';
    } else if (rutRegex.test(value)) {
        feedback.textContent = '‚úì RUT v√°lido';
        feedback.style.color = 'var(--success-color)';
        input.style.borderColor = 'var(--success-color)';
    } else {
        feedback.textContent = '‚úó Formato: 12345678-9';
        feedback.style.color = 'var(--danger-color)';
        input.style.borderColor = 'var(--danger-color)';
    }
}

// Validaci√≥n de Tel√©fono (+56912345678)
function validatePhone(input) {
    let value = input.value;
    const feedback = document.getElementById('phone-feedback');
    
    // Solo permitir n√∫meros y +
    value = value.replace(/[^0-9+]/g, '');
    input.value = value;
    
    // Validar formato exacto: +56 + 9 d√≠gitos = +56912345678
    const phoneRegex = /^\+56\d{9}$/;
    if (value === '') {
        feedback.textContent = '';
        input.style.borderColor = 'var(--border-color)';
    } else if (phoneRegex.test(value)) {
        feedback.textContent = '‚úì Tel√©fono v√°lido';
        feedback.style.color = 'var(--success-color)';
        input.style.borderColor = 'var(--success-color)';
    } else {
        const digitsCount = value.replace(/\D/g, '').length;
        feedback.textContent = `‚úó Formato: +56912345678 (${value.length}/12)`;
        feedback.style.color = 'var(--danger-color)';
        input.style.borderColor = 'var(--danger-color)';
    }
}

// Validaci√≥n de Email
function validateEmail(input) {
    const value = input.value;
    const feedback = document.getElementById('email-feedback');
    
    // Validar formato email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (value === '') {
        feedback.textContent = '';
        input.style.borderColor = 'var(--border-color)';
    } else if (emailRegex.test(value)) {
        feedback.textContent = '‚úì Email v√°lido';
        feedback.style.color = 'var(--success-color)';
        input.style.borderColor = 'var(--success-color)';
    } else {
        feedback.textContent = '‚úó Formato: usuario@ejemplo.com';
        feedback.style.color = 'var(--danger-color)';
        input.style.borderColor = 'var(--danger-color)';
    }
}

// Selector de Insumos/Servicios
const selectedInsumos = [];

function addInsumo(insumo, element) {
    if (selectedInsumos.includes(insumo)) {
        selectedInsumos.splice(selectedInsumos.indexOf(insumo), 1);
    } else {
        selectedInsumos.push(insumo);
    }
    
    renderSelectedInsumos();
    updateElementStyle(element);
}

function removeInsumo(insumo) {
    selectedInsumos.splice(selectedInsumos.indexOf(insumo), 1);
    renderSelectedInsumos();
}

function renderSelectedInsumos() {
    const container = document.getElementById('selected-insumos');
    const clearBtn = document.getElementById('clear-btn');
    
    if (selectedInsumos.length === 0) {
        container.innerHTML = `
            <div class="selected-empty">
                <i class="fas fa-inbox"></i>
                <p>Selecciona insumos</p>
            </div>
        `;
        clearBtn.style.display = 'none';
        return;
    }
    
    clearBtn.style.display = 'block';
    
    container.innerHTML = selectedInsumos.map((insumo, index) => `
        <div class="selected-item">
            <div class="selected-item-content">
                <span class="selected-item-number">${index + 1}.</span>
                <i class="fas fa-check-circle selected-item-icon"></i>
                <span>${insumo}</span>
            </div>
            <button class="btn-edit-icon" onclick="removeInsumo('${insumo}'); renderSelectedInsumos();">
                <i class="fas fa-times text-danger"></i>
            </button>
        </div>
    `).join('');
}

function clearInsumos() {
    selectedInsumos.length = 0;
    renderSelectedInsumos();
    document.querySelectorAll('.insumo-item').forEach(item => {
        item.style.opacity = '1';
        item.style.background = 'white';
    });
}

function updateElementStyle(element) {
    if (selectedInsumos.includes(element.textContent.trim().split('\n')[1]?.trim() || element.textContent.trim())) {
        element.style.opacity = '1';
        element.style.background = 'rgba(175, 225, 175, 0.2)';
    } else {
        element.style.opacity = '1';
        element.style.background = 'white';
    }
}
</script>
{% endblock %}
            </div>
        </div>
    </div>
    </div>









